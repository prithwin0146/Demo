<div class="container">
  <div class="form-card">
    <h2>Add New Employee</h2>

    <!-- Error Alert -->
    <div *ngIf="error" class="error-alert">
      <strong>Error:</strong> {{ error }}
      <button (click)="dismissError()" class="btn-close" type="button">âœ•</button>
    </div>

    <!-- Add Employee Form -->
    <form (ngSubmit)="save()" class="employee-form">
      <!-- Name Field -->
      <div class="form-group">
        <label for="name">Full Name:</label>
        <input
          type="text"
          id="name"
          name="name"
          [(ngModel)]="name"
          placeholder="Enter employee full name"
          class="form-control"
          required
        />
      </div>

      <!-- Email Field -->
      <div class="form-group">
        <label for="email">Email:</label>
        <input
          type="email"
          id="email"
          name="email"
          [(ngModel)]="email"
          placeholder="Enter employee email"
          class="form-control"
          required
        />
      </div>

      <!-- Job Role Field -->
      <div class="form-group">
        <label for="jobRole">Job Role:</label>
        <select
          id="jobRole"
          name="jobRole"
          [(ngModel)]="jobRole"
          class="form-control"
          required
        >
          <option value="">Select a job role</option>
          <option *ngFor="let jr of jobRoles" [value]="jr">{{ jr }}</option>
        </select>
      </div>

      <!-- System Role Field -->
      <div class="form-group">
        <label for="systemRole">System Role:</label>
        <select
          id="systemRole"
          name="systemRole"
          [(ngModel)]="systemRole"
          class="form-control"
          [disabled]="!canEditSystemRole"
          required
        >
          <option *ngFor="let sr of systemRoles" [value]="sr">{{ sr }}</option>
        </select>
        <small class="form-text" *ngIf="!canEditSystemRole">Only Admin and HR can edit system roles</small>
      </div>

      <!-- Password Field -->
      <div class="form-group">
        <label for="password">Password:</label>
        <input
          type="password"
          id="password"
          name="password"
          [(ngModel)]="password"
          placeholder="Enter password (min 8 characters)"
          class="form-control"
          minlength="8"
          required
        />
        <small class="form-text">Password must be at least 8 characters</small>
      </div>

      <!-- Confirm Password Field -->
      <div class="form-group">
        <label for="confirmPassword">Confirm Password:</label>
        <input
          type="password"
          id="confirmPassword"
          name="confirmPassword"
          [(ngModel)]="confirmPassword"
          placeholder="Re-enter password"
          class="form-control"
          minlength="8"
          required
        />
        <small class="form-text" *ngIf="password && confirmPassword && password !== confirmPassword" style="color: #dc2626;">
          Passwords do not match
        </small>
      </div>

      <!-- Buttons -->
      <div class="button-group">
        <button type="submit" class="btn-submit">Add Employee</button>
        <button type="button" (click)="goBack()" class="btn-cancel">Cancel</button>
      </div>
    </form>
  </div>
</div>
