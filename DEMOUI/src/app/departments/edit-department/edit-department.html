<div class="container">
  <h1>Edit Department</h1>

  <div *ngIf="loadingData" class="loader-container">
    <div class="spinner"></div>
    <p>Loading department...</p>
  </div>

  <div *ngIf="error" class="error-alert">
    <strong>Error:</strong> {{ error }}
    <button (click)="dismissError()" class="btn-close">âœ•</button>
  </div>

  <form *ngIf="!loadingData" class="form-container">
    <div class="form-group">
      <label for="departmentName">Department Name *</label>
      <input 
        type="text" 
        id="departmentName" 
        [(ngModel)]="departmentName" 
        name="departmentName"
        placeholder="Enter department name"
        maxlength="100"
        required
      />
    </div>

    <div class="form-group">
      <label for="description">Description</label>
      <textarea 
        id="description" 
        [(ngModel)]="description" 
        name="description"
        placeholder="Enter department description"
        maxlength="500"
        rows="4"
      ></textarea>
    </div>

    <div class="form-group">
      <label for="managerId">Manager</label>
      <select 
        id="managerId" 
        [(ngModel)]="managerId" 
        name="managerId"
      >
        <option [ngValue]="null">-- Select Manager --</option>
        <option *ngFor="let emp of employees" [ngValue]="emp.id">
          {{ emp.name }}
        </option>
      </select>
    </div>

    <div class="button-group">
      <button type="button" (click)="save()" [disabled]="loading" class="btn-save">
        {{ loading ? 'Updating...' : 'Update' }}
      </button>
      <button type="button" (click)="goBack()" [disabled]="loading" class="btn-cancel">
        Cancel
      </button>
    </div>
  </form>
</div>
