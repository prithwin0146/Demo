<div class="container">
  <div class="form-card">
    <h2>Add New Department</h2>

    <form [formGroup]="departmentForm" (ngSubmit)="onSubmit()">
      <!-- Department Name Field -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Department Name</mat-label>
        <input matInput formControlName="departmentName" placeholder="Enter department name" maxlength="100">
        <mat-icon matPrefix>business</mat-icon>
        <mat-error *ngIf="departmentForm.get('departmentName')?.hasError('required')">
          Department name is required
        </mat-error>
        <mat-error *ngIf="departmentForm.get('departmentName')?.hasError('maxlength')">
          Department name cannot exceed 100 characters
        </mat-error>
      </mat-form-field>

      <!-- Description Field -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Description</mat-label>
        <textarea matInput formControlName="description" placeholder="Enter department description" maxlength="500" rows="4"></textarea>
        <mat-icon matPrefix>description</mat-icon>
        <mat-hint>Optional</mat-hint>
        <mat-error *ngIf="departmentForm.get('description')?.hasError('maxlength')">
          Description cannot exceed 500 characters
        </mat-error>
      </mat-form-field>

      <!-- Manager Field -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Manager</mat-label>
        <mat-select formControlName="managerId">
          <mat-option [value]="null">-- Select Manager --</mat-option>
          <mat-option *ngFor="let emp of employees" [value]="emp.id">
            {{ emp.name }}
          </mat-option>
        </mat-select>
        <mat-icon matPrefix>person</mat-icon>
        <mat-hint>Optional</mat-hint>
      </mat-form-field>

      <!-- Buttons -->
      <div class="button-group">
        <button mat-raised-button color="primary" type="submit" [disabled]="departmentForm.invalid || saving">
          <mat-icon>save</mat-icon>
          {{ saving ? 'Saving...' : 'Save' }}
        </button>
        <button mat-stroked-button type="button" (click)="cancel()">
          Cancel
        </button>
      </div>
    </form>
  </div>
</div>
